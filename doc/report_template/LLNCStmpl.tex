% LLNCStmpl.tex
% Template file to use for LLNCS papers prepared in LaTeX
%websites for more information: http://www.springer.com
%http://www.springer.com/lncs

\documentclass{llncs}
%Use this line instead if you want to use running heads (i.e. headers on each page):
%\documentclass[runningheads]{llncs}
\usepackage{algorithm,algorithmic,amsmath,comment}

\begin{document}
\title{Rate-based Synchronous Diffusion}

%If you're using runningheads you can add an abreviated title for the running head on odd pages using the following
%\titlerunning{abreviated title goes here}
%and an alternative title for the table of contents:
%\toctitle{table of contents title}

\subtitle{Internet of Things}

%For a single author
%\author{Author Name}

%For multiple authors:
\author{Authors} 


%If using runnningheads you can abbreviate the author name on even pages:
%\authorrunning{abbreviated author name}
%and you can change the author name in the table of contents
%\tocauthor{enhanced author name}

%For a single institute
%\institute{University of Bern \email{email address}}

% If authors are from different institutes 
%\institute{University of Bern \email{\{jovana.micic, david.boesiger\}@students.unibe.ch}}

%to remove your email just remove '\email{email address}'
% you can also remove the thanks footnote by removing '\thanks{Thank you to...}'


\maketitle

%\begin{abstract}
%abstract text goes here - Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
%\end{abstract}

\begin{comment}
Protocol introduction: Maximum 1 page about the theoretical basics of the experiment.
\end{comment}
\section{Protocol Introduction}
Very often time synhronization of all sensors is requred in Wireless Sensor Network (WSN). Since each node has its own clock, it is  needed to synchronize clocks in order to support synhronized sleep and duty cycles among nodes.

 \textbf{Rate-Based Diffusion Protocol (RDP)} aims to synchronize the nodes in the network to the average value of the clocks in the network.
Rate-Based Diffusion Protocol has two main phases:
\begin{enumerate}
\item  Neighborhood Discovery Phase

In this phase, each node has to periodically broadcast a packet with its ID and sequence number to get to know neighbors. All recognized neighbords are saved in neighbor table. Additionaly, with each neighbor we have to save the time offset between the node's time and the neighbors times. Broadcast is determined by time the node waits after starting broadcasting. This parameter value will be discused later in further sections. 

\item  Convergence Phase

In covergence phase, each node periodically go throught neighbors table and update own time using following formula:
\[t_i= t_i -  r * (t_i-t_j)\]
Basic idea is to adapt time of the node to the neighbours node time using some r-value.
R-value needs to be 0\textless r\textless 1. Results of choosing different r-values will be discused in further sections. 
In this phase, unicast messages are used to determine the offset between the clocks.  
\end{enumerate}
\pagebreak 
Alghoritm 1 is showing the pseudo code for Rate-based Diffusion Protocol. 
\begin{algorithm}
 \caption{Diffusion algorithm to synchronize the whole network}\label{euclid}
  \begin{algorithmic}[1]
    \STATE Do the following with some given frequency
    \FOR{each sensor $n_i$ in the network}
     \STATE Exchange clock times with $n_i$'s neighbors
      \FOR{each neighbor $n_j$}
        \STATE Let the time difference between $n_i$ and $n_j$ be $t_i$ - $t_j$
        \STATE Change $n_i$'s time to $t_i$-$r_ij$($t_i$-$t_j$)
      \ENDFOR
    \ENDFOR
\end{algorithmic}
\end{algorithm}

\begin{comment}
Methods: especially, describe the methods used to realize the protocol
(functions in the code and their functionality).
\end{comment}
\section{Methods}


\begin{comment}
Experimental setup/Measurement procedure: The experimental setup, the
differences of the experimental series, the different parameters used, including local
sensor setup and TARWIS testbed.
\end{comment}
\section{Experimental setup/Measurement procedure}

\begin{comment}
Results and Analysis: Analyze the results which are obtained by local sensors and
on TARWIS testbed. Analyze your data with respect to the aim of the experiment. Your
task during the experiment is not just to measure and document your measurements, but
to derive and present conclusions from your measurements.
\end{comment}

\section{Results and Analysis}

\begin{comment}
Conclusions: Summarize and discuss your results with respect to the literature or
your own scientific expectations. You should in particular discuss possible error sources
and give a short judgment on the quality of the experimental setup (because you also
learn to design the measurement setups). If needed, suggest how to improve the setups.
\end{comment}

\section{Conclusions}


%The bibliography, done here without a bib file
%This is the old BibTeX style for use with llncs.cls
\bibliographystyle{splncs}

%Alternative bibliography styles:
%the following does the same as above except with alphabetic sorting
%\bibliographystyle{splncs_srt}
%the following is the current LNCS BibTex with alphabetic sorting
%\bibliographystyle{splncs03}
%If you want to use a different BibTex style include [oribibl] in the document class line

\begin{thebibliography}{1}
%add each reference in here like this:
\bibitem[RE1]{reference1}
Author:
Article/Book:
Other info: (date) page numbers.
\end{thebibliography}

\end{document}

